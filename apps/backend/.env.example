TEMPWALLETS BACKEND ENVIRONMENT VARIABLES
# ==============================================================================
#
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Update the values below with your actual configuration
# 3. Never commit the .env file to version control
#
# RAILWAY DEPLOYMENT:
# - DATABASE_URL is automatically provided by Railway's PostgreSQL plugin
# - Set all other variables in Railway's dashboard
# - See ENV_SETUP.md for detailed deployment instructions
# ==============================================================================


# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# For Railway: This is automatically set by the PostgreSQL plugin
# For Local: Update with your local PostgreSQL connection string
DATABASE_URL="postgresql://postgres:password@localhost:5432/tempwallets?schema=public"


# ==============================================================================
# SECURITY & AUTHENTICATION
# ==============================================================================
# Wallet Encryption Key
# CRITICAL: Generate a secure 32-byte key for production!
# Generate with: openssl rand -base64 32
WALLET_ENC_KEY="REPLACE_WITH_BASE64_32_BYTE_KEY"


# JWT Secret for authentication
# IMPORTANT: Generate a strong secret for production!
# Generate with: openssl rand -base64 32
JWT_SECRET="REPLACE_WITH_BASE64_32_BYTE_SECRET"


# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
PORT=5005
NODE_ENV="development"


# Frontend URL for CORS
# Local: http://localhost:3000
# Production: https://your-frontend.vercel.app
FRONTEND_URL="http://localhost:3000"


# Backend URL for OAuth callbacks (important for Google OAuth)
# Local: http://localhost:5005
# Production: https://your-backend.railway.app
BACKEND_URL="http://localhost:5005"


# ==============================================================================
# PIMLICO CONFIGURATION (ERC-4337 Smart Accounts & Gas Sponsorship)
# ==============================================================================
# Get your API key from: https://dashboard.pimlico.io/
# Free tier available for development
# When set, enables gas sponsorship for ERC-4337 transactions (users pay $0 gas!)
PIMLICO_API_KEY="pim_your_api_key"


# ==============================================================================
# ZERION CONFIGURATION (Balance & Transaction Queries)
# ==============================================================================
# Get your API key from: https://developers.zerion.io
# Free tier available for development
# Used for fetching account balances and transaction history
ZERION_API_KEY="zk_your_api_key"


# ==============================================================================
# WALLETCONNECT CONFIGURATION
# ==============================================================================
# Get your project ID from: https://cloud.walletconnect.com/
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID="your_walletconnect_project_id"


# ==============================================================================
# GOOGLE OAUTH CONFIGURATION
# ==============================================================================
# Get your credentials from: https://console.cloud.google.com/
# 1. Create a new project or select existing
# 2. Enable Google+ API
# 3. Create OAuth 2.0 credentials
# 4. Add authorized redirect URIs: http://localhost:5005/auth/google/callback (local)
GOOGLE_CLIENT_ID="your_google_client_id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your_google_client_secret"


# ==============================================================================
# LOGGING & OBSERVABILITY CONFIGURATION
# ==============================================================================
# Log Level: Comma-separated list of log levels to enable
# Values: error, warn, log, debug, verbose
# Production default: error,warn,log
# Development default: error,warn,log,debug,verbose
LOG_LEVEL="error,warn,log,debug"


# Enable/disable metrics collection
ENABLE_METRICS=true


# ==============================================================================
# EVM CHAIN RPC URLS
# ==============================================================================
# Replace with your own RPC providers for production (Infura, Alchemy, QuickNode, etc.)
# Public endpoints shown below are for development only


# Ethereum Mainnet
ETH_RPC_URL="https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY"
ETH_BUNDLER_URL="https://bundler.biconomy.io/api/v3/1/YOUR_BICONOMY_KEY"
ETH_PAYMASTER_URL="https://paymaster.biconomy.io/api/v2/1/YOUR_BICONOMY_KEY"
ETH_PAYMASTER_ADDRESS=""
ETH_FACTORY_ADDRESS=""


# Base Mainnet
BASE_RPC_URL="https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY"
BASE_BUNDLER_URL="https://bundler.biconomy.io/api/v3/8453/YOUR_BICONOMY_KEY"
BASE_PAYMASTER_URL="https://paymaster.biconomy.io/api/v2/8453/YOUR_BICONOMY_KEY"
BASE_PAYMASTER_ADDRESS=""
BASE_FACTORY_ADDRESS=""


# Arbitrum One
ARB_RPC_URL="https://arb-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY"
ARB_BUNDLER_URL="https://bundler.biconomy.io/api/v3/42161/YOUR_BICONOMY_KEY"
ARB_PAYMASTER_URL="https://paymaster.biconomy.io/api/v2/42161/YOUR_BICONOMY_KEY"
ARB_PAYMASTER_ADDRESS=""
ARB_FACTORY_ADDRESS=""


# Polygon
POLYGON_RPC_URLS="https://polygon-rpc.com"
POLYGON_FACTORY_ADDRESS=""


# Avalanche C-Chain
AVAX_RPC_URL="https://avax-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY"
AVA_BUNDLER_URL="https://bundler.biconomy.io/api/v2/43114/YOUR_BICONOMY_KEY"
AVA_PAYMASTER_URL="https://paymaster.biconomy.io/api/v1/43114/YOUR_BICONOMY_KEY"
AVA_PAYMASTER_ADDRESS=""


# Sepolia Testnet
SEPOLIA_RPC_URL="https://sepolia.drpc.org"


# BNB Chain
BNB_RPC_URL="https://binance.llamarpc.com"


# ==============================================================================
# NON-EVM CHAIN RPC URLS (Optional)
# ==============================================================================
# Only needed if you're using these chains


# Tron
TRON_RPC_URL="https://api.trongrid.io"


# Bitcoin
BTC_RPC_URL="https://blockstream.info/api"


# Solana
SOL_RPC_URL="https://api.mainnet-beta.solana.com"


# ==============================================================================
# APTOS CONFIGURATION
# ==============================================================================
# Comma-separated RPC URLs for each network
APTOS_MAINNET_RPC_URLS="https://aptos.blockpi.network/aptos/v1/public/v1,https://go.getblock.io/YOUR_GETBLOCK_KEY/v1"
APTOS_TESTNET_RPC_URLS="https://fullnode.testnet.aptoslabs.com/v1"
APTOS_DEVNET_RPC_URLS="https://fullnode.devnet.aptoslabs.com/v1"
APTOS_TESTNET_FAUCET_URL="https://faucet.testnet.aptoslabs.com"
APTOS_MAX_CONNECTIONS_PER_NETWORK=10
APTOS_RPC_TIMEOUT_MS=30000


# ==============================================================================
# YELLOW NETWORK CONFIGURATION (Optional)
# ==============================================================================
# WebSocket URL for Yellow Network
YELLOW_NETWORK_WS_URL="wss://clearnet.yellow.com/ws"
YELLOW_NETWORK_SERVICE_PRIVATE_KEY="your-yellow-network-private-key-here"


# ==============================================================================
# EIP-7702 CONFIGURATION (Experimental)
# ==============================================================================
# Enable EIP-7702 delegation feature
ENABLE_EIP7702=true


# Restrict EIP-7702 to confirmed supported chains (comma-separated)
EIP7702_CHAINS="ethereum,sepolia,base,arbitrum,optimism"


# Pimlico-supported chain IDs enabled for EIP-7702 delegation + sponsorship (comma-separated)
EIP7702_ENABLED_CHAINS="1,11155111,8453,42161,10"


# SimpleSmartAccount delegation target for EIP-7702
EIP7702_DELEGATION_ADDRESS="0xe6Cae83BdE06E4c305530e199D7217f42808555B"


# ==============================================================================
# NOTES
# ==============================================================================
#
# BICONOMY (ERC-4337):
# - Bundler and paymaster URLs for Ethereum, Base, Arbitrum, and Avalanche
# - Entry point address: 0x0000000071727De22E5E9d8BAf0edAc6f37da032 (ERC-4337 v0.7)
# - Factory addresses are chain-specific (see configuration above)
# - Get API keys from: https://dashboard.biconomy.io/
#
# PIMLICO:
# - Alternative to Biconomy for gas sponsorship
# - Automatically provides bundler and paymaster URLs for all supported chains
# - Entry point address: 0x0000000071727De22E5E9d8BAf0edAc6f37da032 (ERC-4337 v0.7)
# - Safe factory address: 0x0000000000FFe8B47B3e2130213B802212439497
# - When PIMLICO_API_KEY is set, gas sponsorship is ENABLED (gasless transactions)
# - When PIMLICO_API_KEY is not set, users must pay their own gas fees
#
# ZERION:
# - Used as primary source for account balances and transaction history
# - Supports: Ethereum, Base, Arbitrum, Polygon, Avalanche, Solana
# - Includes caching (30s for balances, 60s for transactions)
#
# ERC-4337 SUPPORTED CHAINS:
# - ethereum (with gas sponsorship via Pimlico/Biconomy)
# - base (with gas sponsorship via Pimlico/Biconomy)
# - arbitrum (with gas sponsorship via Pimlico/Biconomy)
# - polygon (with gas sponsorship via Pimlico/Biconomy)
# - avalanche (with gas sponsorship via Pimlico/Biconomy)
#
# EIP-7702:
# - Experimental feature for EOA to smart account delegation
# - Requires Pimlico API key
# - Currently supported on: Ethereum, Sepolia, Base, Arbitrum, Optimism
#
# ==============================================================================
